/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={23:e=>{"use strict";e.exports=require("util")},92:(e,r)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();e.exports=r=n.fetch,n.fetch&&(r.default=n.fetch.bind(n)),r.Headers=n.Headers,r.Request=n.Request,r.Response=n.Response},157:e=>{"use strict";e.exports=require("electron")},165:(e,r,n)=>{function t(){var e;try{e=r.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(r=e.exports=n(658)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+r.humanize(this.diff),n){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,t)}},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=t,r.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(t())},313:(e,r,n)=>{var t=n(928),o=n(317).spawn,i=n(165)("electron-squirrel-startup"),a=n(157).app,s=function(e,r){var n=t.resolve(t.dirname(process.execPath),"..","Update.exe");i("Spawning `%s` with args `%s`",n,e),o(n,e,{detached:!0}).on("close",r)};e.exports=function(){if("win32"===process.platform){var e=process.argv[1];i("processing squirrel command `%s`",e);var r=t.basename(process.execPath);if("--squirrel-install"===e||"--squirrel-updated"===e)return s(["--createShortcut="+r],a.quit),!0;if("--squirrel-uninstall"===e)return s(["--removeShortcut="+r],a.quit),!0;if("--squirrel-obsolete"===e)return a.quit(),!0}return!1}()},317:e=>{"use strict";e.exports=require("child_process")},484:(e,r,n)=>{function t(){var e,r,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,t,i,a){var s=t&&t.prototype instanceof u?t:u,l=Object.create(s.prototype);return o(l,"_invoke",function(n,t,o){var i,a,s,u=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(r,n){return i=r,a=0,s=e,p.n=n,c}};function d(n,t){for(a=n,s=t,r=0;!f&&u&&!o&&r<l.length;r++){var o,i=l[r],d=p.p,h=i[2];n>3?(o=h===t)&&(a=i[4]||3,s=i[5]===e?i[3]:i[5],i[4]=3,i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=t,p.n=i[1]):d<h&&(o=n<3||i[0]>t||t>h)&&(i[4]=n,i[5]=t,p.n=h,a=0))}if(o||n>1)return c;throw f=!0,t}return function(o,l,h){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,h),a=l,s=h;(r=a<2?e:s)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((r=(f=p.n<0)?s:n.call(t,p))!==c)break}catch(r){i=e,a=1,s=r}finally{u=1}}return{value:r,done:f}}}(n,i,a),!0),l}var c={};function u(){}function l(){}function f(){}r=Object.getPrototypeOf;var p=[][i]?r(r([][i]())):(o(r={},i,(function(){return this})),r),d=f.prototype=u.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,o(d,"constructor",f),o(f,"constructor",l),l.displayName="GeneratorFunction",o(f,a,"GeneratorFunction"),o(d),o(d,a,"Generator"),o(d,i,(function(){return this})),o(d,"toString",(function(){return"[object Generator]"})),(t=function(){return{w:s,m:h}})()}function o(e,r,n,t){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}o=function(e,r,n,t){if(r)i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n;else{var a=function(r,n){o(e,r,(function(e){return this._invoke(r,n,e)}))};a("next",0),a("throw",1),a("return",2)}},o(e,r,n,t)}function i(e,r,n,t,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?r(c):Promise.resolve(c).then(t,o)}function a(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var a=e.apply(r,n);function s(e){i(a,t,o,s,c,"next",e)}function c(e){i(a,t,o,s,c,"throw",e)}s(void 0)}))}}var s=n(157).ipcMain,c=n(317).exec,u=n(928),l=n(896),f=n(857),p=n(23).promisify(c),d=f.homedir();e.exports={setupTerminalHandlers:function(){s.handle("terminal:pwd",(function(){return d})),s.handle("terminal:cd",function(){var e=a(t().m((function e(r,n){var o,i;return t().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,"~"===n&&(n=f.homedir()),o=u.resolve(d,n),e.n=1,l.promises.stat(o);case 1:if(e.v.isDirectory()){e.n=2;break}return e.a(2,{error:"Not a directory"});case 2:return d=o,e.a(2,{success:!0});case 3:return e.p=3,i=e.v,e.a(2,{error:i.message})}}),e,null,[[0,3]])})));return function(r,n){return e.apply(this,arguments)}}()),s.handle("terminal:ls",function(){var e=a(t().m((function e(r){var n,o,i,a,s,c=arguments;return t().w((function(e){for(;;)switch(e.n){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],e.p=1,o=d,n.length>0&&(o=u.resolve(d,n[0])),e.n=2,l.promises.readdir(o,{withFileTypes:!0});case 2:return i=e.v,a=i.map((function(e){return e.isDirectory()?"".concat(e.name,"/"):e.name})).join("  "),e.a(2,a);case 3:return e.p=3,s=e.v,e.a(2,"ls: ".concat(s.message))}}),e,null,[[1,3]])})));return function(r){return e.apply(this,arguments)}}()),s.handle("terminal:execute",function(){var e=a(t().m((function e(r,n){var o,i,a,s;return t().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,p(n,{cwd:d,timeout:1e4,maxBuffer:1048576});case 1:return o=e.v,i=o.stdout,a=o.stderr,e.a(2,{output:i,error:a});case 2:return e.p=2,s=e.v,e.a(2,{error:s.message})}}),e,null,[[0,2]])})));return function(r,n){return e.apply(this,arguments)}}())}}},658:(e,r,n)=>{var t;function o(e){function n(){if(n.enabled){var e=n,o=+new Date,i=o-(t||o);e.diff=i,e.prev=t,e.curr=o,t=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=r.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,t){if("%%"===n)return n;c++;var o=r.formatters[t];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n})),r.formatArgs.call(e,a),(n.log||r.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=r.enabled(e),n.useColors=r.useColors(),n.color=function(e){var n,t=0;for(n in e)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}(e),"function"==typeof r.init&&r.init(n),n}(r=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),t=n.length,o=0;o<t;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){var n,t;for(n=0,t=r.skips.length;n<t;n++)if(r.skips[n].test(e))return!1;for(n=0,t=r.names.length;n<t;n++)if(r.names[n].test(e))return!0;return!1},r.humanize=n(957),r.names=[],r.skips=[],r.formatters={}},760:e=>{"use strict";e.exports=require("node:path")},857:e=>{"use strict";e.exports=require("os")},896:e=>{"use strict";e.exports=require("fs")},928:e=>{"use strict";e.exports=require("path")},957:e=>{var r=1e3,n=60*r,t=60*n,o=24*t;function i(e,r,n){if(!(e<r))return e<1.5*r?Math.floor(e/r)+" "+n:Math.ceil(e/r)+" "+n+"s"}e.exports=function(e,a){a=a||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*t;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return a.long?i(s=e,o,"day")||i(s,t,"hour")||i(s,n,"minute")||i(s,r,"second")||s+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=t?Math.round(e/t)+"h":e>=n?Math.round(e/n)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}function t(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,r){if(e){if("string"==typeof e)return i(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,r):void 0}}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}function a(){var e,r,n="function"==typeof Symbol?Symbol:{},t=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,t,o,i){var a=t&&t.prototype instanceof u?t:u,l=Object.create(a.prototype);return s(l,"_invoke",function(n,t,o){var i,a,s,u=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(r,n){return i=r,a=0,s=e,p.n=n,c}};function d(n,t){for(a=n,s=t,r=0;!f&&u&&!o&&r<l.length;r++){var o,i=l[r],d=p.p,h=i[2];n>3?(o=h===t)&&(a=i[4]||3,s=i[5]===e?i[3]:i[5],i[4]=3,i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=t,p.n=i[1]):d<h&&(o=n<3||i[0]>t||t>h)&&(i[4]=n,i[5]=t,p.n=h,a=0))}if(o||n>1)return c;throw f=!0,t}return function(o,l,h){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,h),a=l,s=h;(r=a<2?e:s)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,s)):p.n=s:p.v=s);try{if(u=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((r=(f=p.n<0)?s:n.call(t,p))!==c)break}catch(r){i=e,a=1,s=r}finally{u=1}}return{value:r,done:f}}}(n,o,i),!0),l}var c={};function u(){}function l(){}function f(){}r=Object.getPrototypeOf;var p=[][t]?r(r([][t]())):(s(r={},t,(function(){return this})),r),d=f.prototype=u.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,s(d,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(d),s(d,o,"Generator"),s(d,t,(function(){return this})),s(d,"toString",(function(){return"[object Generator]"})),(a=function(){return{w:i,m:h}})()}function s(e,r,n,t){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s=function(e,r,n,t){if(r)o?o(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n;else{var i=function(r,n){s(e,r,(function(e){return this._invoke(r,n,e)}))};i("next",0),i("throw",1),i("return",2)}},s(e,r,n,t)}function c(e,r,n,t,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?r(c):Promise.resolve(c).then(t,o)}function u(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){c(i,t,o,a,s,"next",e)}function s(e){c(i,t,o,a,s,"throw",e)}a(void 0)}))}}var l,f=n(157),p=f.app,d=f.BrowserWindow,h=f.ipcMain,m=f.dialog,v=(f.shell,f.globalShortcut),g=n(760),y=n(896).promises,w=(n(857),n(317).spawn,n(92)),b=n(484).setupTerminalHandlers,x=(new Map,"http://localhost:11434/api/generate");function O(){return j.apply(this,arguments)}function j(){return(j=u(a().m((function e(){var r;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,w("http://localhost:11434/api/tags");case 1:if(e.v.ok){e.n=2;break}throw new Error("Ollama is not running");case 2:return e.a(2,!0);case 3:return e.p=3,r=e.v,console.error("Failed to connect to Ollama:",r),e.a(2,!1)}}),e,null,[[0,3]])})))).apply(this,arguments)}n(313)&&p.quit();var E=function(){var e=u(a().m((function e(){var r;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,l=new d({width:1200,height:800,minWidth:800,minHeight:600,backgroundColor:"#1e1e1e",titleBarStyle:"hidden",webPreferences:{nodeIntegration:!1,contextIsolation:!0,enableRemoteModule:!1,preload:g.join(__dirname,"preload.js")}}),e.n=1,l.loadFile(g.join(__dirname,"index.html"));case 1:l.on("closed",(function(){l=null})),process.on("uncaughtException",(function(e){console.error("Uncaught Exception:",e),m.showErrorBox("An error occurred",e.message)})),process.on("unhandledRejection",(function(e){console.error("Unhandled Rejection:",e),m.showErrorBox("An error occurred",String(e))})),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to create window:",r),m.showErrorBox("Failed to start","Failed to create the main window"),p.quit();case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(){return e.apply(this,arguments)}}();function S(e){return F.apply(this,arguments)}function F(){return(F=u(a().m((function e(r){var n,o,i,s,c,u,l,f,p,d,h,m,v;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,console.log("Reading directory:",r),e.n=1,y.readdir(r,{withFileTypes:!0});case 1:n=e.v,o=[],i=t(n),e.p=2,i.s();case 3:if((s=i.n()).done){e.n=6;break}return c=s.value,u=g.join(r,c.name),console.log("Processing file:",c.name),l=c.isDirectory(),f=c.isFile(),console.log("Dirent info:",{isDirFromDirent:l,isFileFromDirent:f}),e.n=4,y.stat(u);case 4:p=e.v,d=p.isDirectory(),h=p.isFile(),console.log("Stats info:",{isDirFromStats:d,isFileFromStats:h}),o.push({name:c.name,path:u,isDirectory:l,isFile:f});case 5:e.n=3;break;case 6:e.n=8;break;case 7:e.p=7,m=e.v,i.e(m);case 8:return e.p=8,i.f(),e.f(8);case 9:return console.log("Directory contents:",o),e.a(2,o);case 10:throw e.p=10,v=e.v,console.error("Error reading directory:",v),v;case 11:return e.a(2)}}),e,null,[[2,7,8,9],[0,10]])})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=u(a().m((function e(r){var n,t,o,i,s;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,console.log("Getting stats for:",r),e.n=1,y.stat(r);case 1:return n=e.v,console.log("Raw stats:",{isDirectory:n.isDirectory,isFile:n.isFile,size:n.size,mode:n.mode}),t=n.isDirectory(),o=n.isFile(),console.log("Computed values:",{isDirectory:t,isFile:o,size:n.size}),i={isDirectory:t,isFile:o,size:n.size,mtime:n.mtime.toISOString(),ctime:n.ctime.toISOString(),birthtime:n.birthtime.toISOString(),mode:n.mode},console.log("Returning stats:",i),e.a(2,i);case 2:throw e.p=2,s=e.v,console.error("Error getting file stats:",s),s;case 3:return e.a(2)}}),e,null,[[0,2]])})))).apply(this,arguments)}function A(e){return P.apply(this,arguments)}function P(){return(P=u(a().m((function e(r){var n;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y.access(r);case 1:case 3:e.n=5;break;case 2:if(e.p=2,"ENOENT"!==(n=e.v).code){e.n=4;break}return e.n=3,y.mkdir(r,{recursive:!0});case 4:throw n;case 5:return e.a(2)}}),e,null,[[0,2]])})))).apply(this,arguments)}p.whenReady().then((function(){b(),h.handle("read-file",function(){var e=u(a().m((function e(r,n){var t;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y.stat(n);case 1:if(!e.v.isDirectory()){e.n=2;break}throw new Error("Cannot read a directory as a file");case 2:return e.n=3,y.readFile(n,"utf8");case 3:return e.a(2,e.v);case 4:throw e.p=4,t=e.v,console.error("Error reading file:",t),t;case 5:return e.a(2)}}),e,null,[[0,4]])})));return function(r,n){return e.apply(this,arguments)}}()),h.handle("write-file",function(){var e=u(a().m((function e(r,n,t){var o;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,A(g.dirname(n));case 1:return e.n=2,y.writeFile(n,t,"utf8");case 2:return e.a(2,!0);case 3:throw e.p=3,o=e.v,console.error("Error writing file:",o),o;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(r,n,t){return e.apply(this,arguments)}}()),h.handle("read-directory",function(){var e=u(a().m((function e(r,n){var t;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,S(n);case 1:return e.a(2,e.v);case 2:throw e.p=2,t=e.v,console.error("Error reading directory:",t),t;case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(r,n){return e.apply(this,arguments)}}()),h.handle("get-stats",function(){var e=u(a().m((function e(r,n){var t;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,k(n);case 1:return e.a(2,e.v);case 2:throw e.p=2,t=e.v,console.error("Error getting file stats:",t),t;case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(r,n){return e.apply(this,arguments)}}()),h.handle("file-exists",function(){var e=u(a().m((function e(r,n){return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y.access(n);case 1:return e.a(2,!0);case 2:return e.p=2,e.v,e.a(2,!1)}}),e,null,[[0,2]])})));return function(r,n){return e.apply(this,arguments)}}()),h.handle("open-directory-dialog",u(a().m((function e(){var r,n,t;return a().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,m.showOpenDialog({properties:["openDirectory"]});case 1:if(r=e.v,n=r.canceled,t=r.filePaths,n||!(t.length>0)){e.n=2;break}return e.a(2,t[0]);case 2:return e.a(2,null)}}),e)})))),h.handle("create-project-dialog",u(a().m((function e(){var r,n,t,o;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,m.showSaveDialog({title:"Create New Project",buttonLabel:"Create Project",properties:["createDirectory","showOverwriteConfirmation"],nameFieldLabel:"Project Name:"});case 1:if(r=e.v,n=r.filePath,!r.canceled&&n){e.n=2;break}return e.a(2,null);case 2:return e.n=3,A(n);case 3:return e.p=3,e.n=4,y.access(n);case 4:return e.a(2,n);case 5:throw e.p=5,t=e.v,new Error("Failed to verify project directory creation: ".concat(t.message));case 6:e.n=8;break;case 7:throw e.p=7,o=e.v,console.error("Error in create-project-dialog:",o),new Error("Failed to create project directory: ".concat(o.message));case 8:return e.a(2)}}),e,null,[[3,5],[0,7]])})))),h.on("window-minimize",(function(e){var r=d.fromWebContents(e.sender);r&&r.minimize()})),h.on("window-maximize",(function(e){var r=d.fromWebContents(e.sender);r&&(r.isMaximized()?r.unmaximize():r.maximize())})),h.on("window-close",(function(e){var r=d.fromWebContents(e.sender);r&&r.close()})),h.on("renderer-error",(function(e,r){console.error("Renderer error:",r),m.showErrorBox("Application Error",r)})),h.handle("path-basename",(function(e,r){return g.basename(r)})),h.handle("path-dirname",(function(e,r){return g.dirname(r)})),h.handle("path-join",function(){var e=u(a().m((function e(r){var n,t,s,c,u=arguments;return a().w((function(e){for(;;)if(0===e.n){for(n=u.length,t=new Array(n>1?n-1:0),s=1;s<n;s++)t[s-1]=u[s];return(c=t.filter((function(e){return"string"==typeof e}))).length!==t.length&&console.warn("path-join received non-string segments:",t),e.a(2,g.join.apply(g,function(e){if(Array.isArray(e))return i(e)}(r=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||o(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}var r}),e)})));return function(r){return e.apply(this,arguments)}}()),h.handle("path-extname",(function(e,r){return g.extname(r)})),h.handle("path-sep",(function(){return g.sep})),h.handle("create-project-file",function(){var e=u(a().m((function e(r,n,t){var o;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,A(g.dirname(n));case 1:return e.n=2,y.writeFile(n,t,"utf8");case 2:return e.a(2,!0);case 3:throw e.p=3,o=e.v,console.error("Error creating project file:",o),o;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(r,n,t){return e.apply(this,arguments)}}()),h.handle("send-to-codellama",function(){var e=u(a().m((function e(r,n){var t,o,i;return a().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,O();case 1:if(e.v){e.n=2;break}throw new Error("Ollama is not running. Please start Ollama first.");case 2:return e.n=3,w(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"codellama",prompt:n,stream:!1})});case 3:if((t=e.v).ok){e.n=4;break}throw new Error("Ollama API error: ".concat(t.statusText));case 4:return e.n=5,t.json();case 5:return o=e.v,e.a(2,o.response);case 6:throw e.p=6,i=e.v,console.error("Error in send-to-codellama:",i),i;case 7:return e.a(2)}}),e,null,[[0,6]])})));return function(r,n){return e.apply(this,arguments)}}()),E(),console.log("Attempting to register shortcuts..."),v.register("CmdOrCtrl+O",(function(){console.log("CmdOrCtrl+O pressed"),l&&!l.isDestroyed()?(console.log("Sending global-shortcut: open-folder to renderer..."),l.webContents.send("global-shortcut","open-folder")):console.log("mainWindow not available to send global-shortcut.")}))?console.log("Registration successful for CmdOrCtrl+O"):console.error("Registration failed for CmdOrCtrl+O"),console.log("Is CmdOrCtrl+O registered after attempt?",v.isRegistered("CmdOrCtrl+O")),p.on("activate",(function(){0===d.getAllWindows().length&&E()}))})),p.on("will-quit",(function(){v.unregisterAll()})),p.on("window-all-closed",(function(){"darwin"!==process.platform&&p.quit()})),process.on("uncaughtException",(function(e){console.error("Uncaught Exception:",e),l&&m.showErrorBox("An error occurred",e.message)})),process.on("unhandledRejection",(function(e){console.error("Unhandled Rejection:",e),l&&m.showErrorBox("An error occurred",String(e))}))})();